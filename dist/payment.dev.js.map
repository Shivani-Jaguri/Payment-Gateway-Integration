{"version":3,"sources":["payment.js"],"names":["initPayPalButton","description","document","querySelector","amount","invoiceid","invoiceidError","invoiceidDiv","descriptionError","priceError","desc","firstChild","innerHTML","length","style","display","purchase_units","validate","event","value","paypal","Buttons","color","shape","label","layout","onInit","data","actions","disable","push","forEach","item","addEventListener","result","every","enable","onClick","visibility","invoice_id","createOrder","order","create","onApprove","capture","then","details","alert","payer","name","given_name","onError","err","console","log","render"],"mappings":"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","sourcesContent":["\r\nfunction initPayPalButton() {\r\n  var description = document.querySelector('#box-container #description');\r\n  var amount = document.querySelector('#box-container #amount');\r\n  var invoiceid = document.querySelector('#box-container #invoiceid');\r\n  var invoiceidError = document.querySelector('#box-container #invoiceidError');\r\n  var invoiceidDiv = document.querySelector('#box-container #invoiceidDiv');\r\n  var descriptionError = document.querySelector('#box-container #descriptionError');\r\n  var priceError = document.querySelector('#box-container #priceLabelError');\r\n\r\n  var desc = [description, amount];\r\n\r\n  if (invoiceidDiv.firstChild.innerHTML.length > 1) {\r\n    invoiceidDiv.style.display = \"block\";\r\n  }\r\n\r\n  var purchase_units = [];\r\n  purchase_units[0] = {};\r\n  purchase_units[0].amount = {};\r\n\r\n  function validate(event) {\r\n    return event.value.length > 0;\r\n  }\r\n\r\n  paypal.Buttons({\r\n    style: {\r\n      color: 'blue',\r\n      shape: 'pill',\r\n      label: 'pay',\r\n      layout: 'horizontal',\r\n\r\n    },\r\n\r\n    onInit: function (data, actions) {\r\n      actions.disable();\r\n\r\n      if (invoiceidDiv.style.display === \"block\") {\r\n        desc.push(invoiceid);\r\n      }\r\n\r\n      desc.forEach(function (item) {\r\n        item.addEventListener('keyup', function (event) {\r\n          var result = desc.every(validate);\r\n          if (result) {\r\n            actions.enable();\r\n          } else {\r\n            actions.disable();\r\n          }\r\n        });\r\n      });\r\n    },\r\n\r\n    onClick: function () {\r\n      if (description.value.length < 1) {\r\n        descriptionError.style.visibility = \"visible\";\r\n      } else {\r\n        descriptionError.style.visibility = \"hidden\";\r\n      }\r\n\r\n      if (amount.value.length < 1) {\r\n        priceError.style.visibility = \"visible\";\r\n      } else {\r\n        priceError.style.visibility = \"hidden\";\r\n      }\r\n\r\n      if (invoiceid.value.length < 1 && invoiceidDiv.style.display === \"block\") {\r\n        invoiceidError.style.visibility = \"visible\";\r\n      } else {\r\n        invoiceidError.style.visibility = \"hidden\";\r\n      }\r\n\r\n      purchase_units[0].description = description.value;\r\n      purchase_units[0].amount.value = amount.value;\r\n\r\n      if (invoiceid.value !== '') {\r\n        purchase_units[0].invoice_id = invoiceid.value;\r\n      }\r\n    },\r\n\r\n    createOrder: function (data, actions) {\r\n      return actions.order.create({\r\n        purchase_units: purchase_units,\r\n      });\r\n    },\r\n\r\n    onApprove: function (data, actions) {\r\n      return actions.order.capture().then(function (details) {\r\n        alert('Transaction completed by ' + details.payer.name.given_name + '!');\r\n      });\r\n    },\r\n\r\n    onError: function (err) {\r\n      console.log(err);\r\n    }\r\n  }).render('#paypal-button-container');\r\n}\r\ninitPayPalButton();"],"file":"payment.dev.js"}