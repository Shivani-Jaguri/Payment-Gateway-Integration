{"version":3,"sources":["payment.js"],"names":["initPayPalButton","description","querySelector","document","amount","invoiceid","invoiceidError","invoiceidDiv","descriptionError","desc","firstChild","innerHTML","length","style","display","purchase_units","validate","event","value","paypal","Buttons","color","shape","label","layout","onInit","data","actions","push","forEach","result","every","item","addEventListener","enable","disable","visibility","priceError","invoice_id","createOrder","order","create","onApprove","onError","capture","then","details","console","log","payer","name","given_name","err","render"],"mappings":"aACA,SAASA,mBAAT,IAAAC,EAASD,SAAmBE,cAAA,+BACtBD,EAAAA,SAAcE,cAASD,0BACvBE,EAASD,SAASD,cAAc,6BAChCG,EAAYF,SAASD,cAAc,kCACnCI,EAAcH,SAAGA,cAASD,gCAC1BK,EAAeJ,SAASD,cAAc,oCACtCM,EAAAA,SAAmBL,cAASD,mCAG5BO,EAAO,CAACR,EAAaG,GAEsB,EAA3CG,EAAaG,WAAWC,UAAUC,SACpCL,EAAaM,MAAMC,QAAU,SAG/B,IAAIC,EAAiB,GAIrB,SAASC,EAASC,GAChB,OAA4B,EAArBA,EAAMC,MAAMN,OAJrBG,EAAe,GAAK,GACpBA,EAAe,GAAGX,OAAS,GAM3Be,OAAOC,QAAQ,CACbP,MAAO,CACLQ,MAAO,OACPC,MAAO,OACPC,MAAO,MACPC,OAAQ,cAIVC,OAAQ,SAAUC,EAAMC,GAGtBA,EAAIpB,UAEH,UAAAA,EAAAM,MAAAC,SADCL,EAAKmB,KAAKvB,GAKRI,EAAAoB,QAAIC,SAAcC,GADpBC,EAAKC,iBAAiB,QAAS,SAAUhB,GAE3BR,EAAAsB,MAAAf,GAAZW,EAEOO,SAENP,EAAAQ,eAOH3B,QAAAA,WADFP,EAEOiB,MAAAN,OAAA,EACLJ,EAAiBK,MAAMuB,WAAa,UAApC5B,EAAiBK,MAAMuB,WAAa,SAGtChC,EAEOc,MAAAN,OAAA,EACLyB,EAAWxB,MAAMuB,WAAa,UAA9BC,EAAWxB,MAAMuB,WAAa,SAGhC/B,EAEOa,MAAAN,OAAA,GAAA,UAAAL,EAAAM,MAAAC,QACLR,EAAeO,MAAMuB,WAAa,UAAlC9B,EAAeO,MAAMuB,WAAa,SAGpCrB,EAAe,GAAGd,YAAcA,EAAYiB,MAG5CH,EAAcG,GAAAA,OAAUA,MAAId,EAAAc,MAE3B,KAAAb,EAAAa,QApDUH,EAAA,GAAAuB,WAAAjC,EAAAa,QAwDiBqB,YAA5B,SAAAb,EAAAC,GAxDW,OAAAA,EAAAa,MAAAC,OAAA,CA6DbC,eAAW3B,KAIV2B,UAjEY,SAAAhB,EAAAC,GAmEbgB,OAAShB,EAAAa,MAAAI,UAAeC,KAAA,SAAAC,GACtBC,MAAQC,4BAARF,EAAAG,MAAAC,KAAAC,WAAA,QADFR,QAAS,SAAUS,GAKvBpD,QAAAA,IAAgBoD,MAFXC,OAAO,4BAEZrD","file":"payment.min.js","sourcesContent":["\r\nfunction initPayPalButton() {\r\n  var description = document.querySelector('#box-container #description');\r\n  var amount = document.querySelector('#box-container #amount');\r\n  var invoiceid = document.querySelector('#box-container #invoiceid');\r\n  var invoiceidError = document.querySelector('#box-container #invoiceidError');\r\n  var invoiceidDiv = document.querySelector('#box-container #invoiceidDiv');\r\n  var descriptionError = document.querySelector('#box-container #descriptionError');\r\n  var priceError = document.querySelector('#box-container #priceLabelError');\r\n\r\n  var desc = [description, amount];\r\n\r\n  if (invoiceidDiv.firstChild.innerHTML.length > 1) {\r\n    invoiceidDiv.style.display = \"block\";\r\n  }\r\n\r\n  var purchase_units = [];\r\n  purchase_units[0] = {};\r\n  purchase_units[0].amount = {};\r\n\r\n  function validate(event) {\r\n    return event.value.length > 0;\r\n  }\r\n\r\n  paypal.Buttons({\r\n    style: {\r\n      color: 'blue',\r\n      shape: 'pill',\r\n      label: 'pay',\r\n      layout: 'horizontal',\r\n\r\n    },\r\n\r\n    onInit: function (data, actions) {\r\n      actions.disable();\r\n\r\n      if (invoiceidDiv.style.display === \"block\") {\r\n        desc.push(invoiceid);\r\n      }\r\n\r\n      desc.forEach(function (item) {\r\n        item.addEventListener('keyup', function (event) {\r\n          var result = desc.every(validate);\r\n          if (result) {\r\n            actions.enable();\r\n          } else {\r\n            actions.disable();\r\n          }\r\n        });\r\n      });\r\n    },\r\n\r\n    onClick: function () {\r\n      if (description.value.length < 1) {\r\n        descriptionError.style.visibility = \"visible\";\r\n      } else {\r\n        descriptionError.style.visibility = \"hidden\";\r\n      }\r\n\r\n      if (amount.value.length < 1) {\r\n        priceError.style.visibility = \"visible\";\r\n      } else {\r\n        priceError.style.visibility = \"hidden\";\r\n      }\r\n\r\n      if (invoiceid.value.length < 1 && invoiceidDiv.style.display === \"block\") {\r\n        invoiceidError.style.visibility = \"visible\";\r\n      } else {\r\n        invoiceidError.style.visibility = \"hidden\";\r\n      }\r\n\r\n      purchase_units[0].description = description.value;\r\n      purchase_units[0].amount.value = amount.value;\r\n\r\n      if (invoiceid.value !== '') {\r\n        purchase_units[0].invoice_id = invoiceid.value;\r\n      }\r\n    },\r\n\r\n    createOrder: function (data, actions) {\r\n      return actions.order.create({\r\n        purchase_units: purchase_units,\r\n      });\r\n    },\r\n\r\n    onApprove: function (data, actions) {\r\n      return actions.order.capture().then(function (details) {\r\n        alert('Transaction completed by ' + details.payer.name.given_name + '!');\r\n      });\r\n    },\r\n\r\n    onError: function (err) {\r\n      console.log(err);\r\n    }\r\n  }).render('#paypal-button-container');\r\n}\r\ninitPayPalButton();"]}